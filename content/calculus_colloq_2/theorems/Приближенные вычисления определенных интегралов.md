## Формула левых прямоугольников
Формулировка:
```spoiler-markdown
Будем приближённо вычислять интеграл с помощью $n$ равных по ширине левых прямоугольников, то есть:
- $\Delta x_{k} = \dfrac{b-a}{n}$
- $x_{k} = a + k \dfrac{b-a}{n}$
- $\xi_{k} = x_{k}$

Если $f(x)$ - дифференцируема и $M_{1} = \sup\limits_{x \in [a, b]}|f'(x)|$, тогда:
$$\left| \int_{a}^{b} f(x) \, dx - \sum_{k=0}^{n-1} f(x_{k})\Delta x_{k} \right| \leq \dfrac{c}{n},~~~~~ c = \dfrac{M_{1}(b-a)^{2}}{2}$$
```

Д-во:
```spoiler-markdown
$$\left| \int_{a}^{b} f(x) \, dx - \sum_{k=0}^{n-1} f(x_{k})\Delta x_{k} \right| =^{*} \left| \sum_{k=0}^{n-1} \int_{x_{k}}^{x_{k+1}} f(x) \, dx - \sum_{k=0}^{n-1} \int_{x_{k}}^{x_{k+1}} f(x_{k}) \, dx \right| = \left| \sum_{k=0}^{n-1} \int_{x_{k}}^{x_{k+1}} f(x) - f(x_{k}) \, dx  \right| ~~~~(*)$$
$*$ - воспользовались [[Аддитивность интеграла по множеству|аддитивностью]] и тем, что $\Delta x_{k} = \int\limits_{x_{k}}^{x_{k+1}} dx$

По [[Теоремы Ролля, Лагранжа и Коши о среднем. Следствия теоремы Лагранжа.#Теорема Лагранжа|теореме Лагранжа]] $\exists{c}$ такая, что:
$$\begin{align}
(*) &= \left| \sum_{k=0}^{n-1} \int_{x_{k}}^{x_{k+1}} f'(c_{k}) (x-x_{k}) \, dx \right| \leq M_{1}\sum_{k=0}^{n-1} \int_{x_{k}}^{x_{k+1}} (x - x_{k}) \, dx = \\
&= M_{1} \sum_{k=0}^{n-1}  \dfrac{(x_{k+1} - x_{k})^{2}}{2} = \dfrac{M_{1}n (b-a)^{2}}{2n^{2}} = \dfrac{M_{1}(b-a)^{2}}{2n} = \dfrac{c}{n}
\end{align}$$
$\square$
```

## Формула средних прямоугольников
Формулировка:
```spoiler-markdown
Вместо левого конца, как в формуле левых прямоугольников, будем брать середину отрезка $c_{k} = \dfrac{x_{k} + x_{k+1}}{2}$.

Если $f(x)$ - дважды дифференцируема и ${} M_{2} = \sup\limits_{x \in [a, b]}|f''(x)|$, тогда:
$$\left| \int_{a}^{b} f(x) \, dx - \sum_{k=0}^{n-1} f(c_{k})\Delta x_{k} \right| \leq \dfrac{c_{2}}{n^{2}},~~~~~ c_{2} = \dfrac{M_{2}(b-a)^{3}}{24}$$
```

Д-во:
```spoiler-markdown
Как и в доказательстве формулы левых прямоугольников, сделаем следующее:
$$\left| \int_{a}^{b} f(x) \, dx - \sum_{k=0}^{n-1} f(c_{k})\Delta x_{k} \right| =^{*} \left| \sum_{k=0}^{n-1} \int_{x_{k}}^{x_{k+1}} f(x) \, dx - \sum_{k=0}^{n-1} \int_{x_{k}}^{x_{k+1}} f(c_{k}) \, dx \right| = \left| \sum_{k=0}^{n-1} \int_{x}^{x_{k+1}} f(x) - f(c_{k}) \, dx  \right| ~~~~(*)$$
$*$ - воспользовались [[Аддитивность интеграла по множеству|аддитивностью]] и тем, что $\Delta x_{k} = \int\limits_{x_{k}}^{x_{k+1}} dx$
По [[Формула Тейлора с остаточным членом в форме Лагранжа|формуле Тейлора в форме Лагранжа]] в точке $c_{k}$ $\exists{\sigma_{k}}$ такое, что:
$$(*) = \left| \sum_{k=0}^{n-1} \int_{x_{k}}^{x_{k+1}} f(c_{k}) + f'(c_{k})(x-c_{k}) + \dfrac{f''(\sigma_{k})(x-c_{k})^{2}}{2} - f(c_{k}) \, dx \right| ~~~~(\dagger)$$
Так как $c_{k}$ - середина отрезка $[x_{k}, x_{k+1}]$, то:
$$\int_{x_{k}}^{x_{k+1}} f'(c_{k})(x-c_{k}) \, dx = f'(c_{k}) \dfrac{(x-c_{k})^{2}}{2} \Bigg|_{x_{k}}^{x_{k+1}} = 0$$
А зная из условия, что $M_{2} = \sup\limits_{x \in [a, b]} |f''(x)|$, получаем:
$$\begin{align}
(\dagger) &\leq \dfrac{M_{2}}{2} \sum_{k=0}^{n-1} \int_{x_{k}}^{x_{k+1}} (x-c_{k})^{2} \, dx = \dfrac{M_{2}}{6} \sum_{k=0}^{n-1} (x-c_{k})^{3} \Bigg|_{x_{k}}^{x_{k+1}} =^{1} \dfrac{M_{2}}{6} \sum_{k=0}^{n-1} \left( \left( \dfrac{b-a}{2n} \right)^{3} - \left( \dfrac{a-b}{2n} \right)^{3} \right) = \\
&= \dfrac{M_{2}}{6} \cdot 2n \left( \dfrac{b-a}{2n} \right)^{3} = \dfrac{M_{2}(b-a)^{3}}{24n^{2}} = \dfrac{c_{2}}{n^{2}}
\end{align}$$
$1$ - пользуемся тем, что $c_{k}$ - середина отрезка, а каждый отрезок длины $\dfrac{b-a}{n}$
$\square$
```
