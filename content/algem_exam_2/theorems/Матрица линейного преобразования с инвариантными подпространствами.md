## Теорема о виде матрицы оператора при наличии собственного инвариантного подпространства
Формулировка:
```spoiler-markdown
Пусть $\mathcal{A}: V \to V$ – линейный оператор, $\dim V = n$. Собственное подпространство $U$ ($U \ne \{0\}, U \ne V$) является $\mathcal{A}$-инвариантным ${} \iff {}$ в некотором базисе пространства $V$ матрица оператора $\mathcal{A}$ имеет блочно-верхнетреугольный (полураспавшийся) вид:
$$ A = \begin{pmatrix} A_{11} & A_{12} \\ O & A_{22} \end{pmatrix} $$
где $A_{11}$ – квадратная матрица порядка $k = \dim U$, а $O$ – нулевая матрица.
```

Д-во:
```spoiler-markdown
Пусть $\dim U = k$, где $0 < k < n$.

$\Large\implies$
Пусть $U$ – собственное $\mathcal{A}$-инвариантное подпространство. Выберем базис $\{e_1, \dots, e_k\}$ в $U$ и дополним его до базиса $\{e_1, \dots, e_k, e_{k+1}, \dots, e_n\}$ всего пространства $V$.
Рассмотрим матрицу $A$ оператора $\mathcal{A}$ в этом базисе. Ее $j$-й столбец – это координаты вектора $\mathcal{A}(e_j)$.
Для $j \in \{1, \dots, k\}$, $e_j \in U$. Так как $U$ $\mathcal{A}$-инвариантно, $\mathcal{A}(e_j) \in U$. Следовательно, $\mathcal{A}(e_j)$ является линейной комбинацией только векторов $e_1, \dots, e_k$:
$$ \mathcal{A}(e_j) = a_{1j}e_1 + \dots + a_{kj}e_k + 0 \cdot e_{k+1} + \dots + 0 \cdot e_n $$
Поэтому первые $k$ столбцов матрицы $A$ будут иметь нули на позициях с $(k+1)$-й по $n$-ю.
Для $j \in \{k+1, \dots, n\}$, $\mathcal{A}(e_j) = a_{1j}e_1 + \dots + a_{nj}e_n$.
Матрица $A$ примет вид:
$$ A = \begin{pmatrix} A_{11} & A_{12} \\ O & A_{22} \end{pmatrix} $$
где $A_{11}$ – матрица $k \times k$, $A_{12}$ – $k \times (n-k)$, $O$ – нулевая матрица $(n-k) \times k$, $A_{22}$ – $(n-k) \times (n-k)$.

$\Large\impliedby$
Пусть в некотором базисе $\{e_1, \dots, e_n\}$ пространства $V$ матрица $A$ оператора $\mathcal{A}$ имеет вид:
$$ A = \begin{pmatrix} A_{11} & A_{12} \\ O & A_{22} \end{pmatrix} $$
где $A_{11}$ – матрица $k \times k$ ($0 < k < n$), $O$ – нулевая матрица $(n-k) \times k$.
Рассмотрим подпространство ${} U = \langle e_1, \dots, e_k\rangle {}$. Это собственное подпространство, $\dim U = k$.
Для любого $j \in \{1, \dots, k\}$, $j$-й столбец матрицы $A$ – это координаты $\mathcal{A}(e_j)$. Так как блок $O$ нулевой, то
$$ [\mathcal{A}(e_j)]_e = ( (A_{11})_{1j}, \dots, (A_{11})_{kj}, 0, \dots, 0 )^T $$
Это означает, что $\mathcal{A}(e_j) = \sum_{i=1}^k (A_{11})_{ij} e_i$. Таким образом, $\mathcal{A}(e_j) \in U$ для $j=1, \dots, k$.
Для любого $x \in U$, $x = c_1e_1 + \dots + c_ke_k$. Тогда
$$ \mathcal{A}(x) = \mathcal{A}\left(\sum_{j=1}^k c_j e_j\right) = \sum_{j=1}^k c_j \mathcal{A}(e_j) $$
Поскольку каждое $\mathcal{A}(e_j) \in U$ и $U$ – подпространство, то $\mathcal{A}(x) \in U$.
Следовательно, $U$ является $\mathcal{A}$-инвариантным подпространством.
$\square$
```